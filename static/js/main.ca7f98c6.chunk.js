(this.webpackJsonpidi=this.webpackJsonpidi||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),s=a.n(o),i=(a(81),a(82),a(67)),c=a(68),l=a(71),h=a(70),d=a(11),u=a.n(d),p=a(131),j=a(132),b=a(130),x=a(129),m=a(128),O=a(133),f=a(37),g=a.n(f),v=a(135),I=a(139),y=a(138),S=a(134),z=a(136),D=a(137),_=a(27),F=a.n(_),k=a(69),w=a.n(k),N=a(1),T=function(e){var t=e.options,a=e.highcharts;return Object(N.jsx)(w.a,{highcharts:a,constructorType:"chart",options:t})};a(91)(F.a),a(92)(F.a),a(93)(F.a),a(94)(F.a),a(95)(F.a);var C=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={cols:[],rows:[],json:[],years:[],columns:[],selectedYear:"",impacto:[],balanza:[],columnsBalanza:[],idi1:[],columnsIDI1:[],idi2:[],columnsIDI2:[],avgT:0,avgP:0,value:0,options:{},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'<tr><th colspan="2"><h3>{point.country}</h3></th></tr><tr><th>Fat intake:</th><td>{point.x}g</td></tr><tr><th>Sugar intake:</th><td>{point.y}g</td></tr><tr><th>Obesity (adults):</th><td>{point.z}%</td></tr>',footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.name}"}}},series:[{data:[{x:95,y:95,z:13.8,name:"BE",country:"Belgium"},{x:86.5,y:102.9,z:14.7,name:"DE",country:"Germany"},{x:80.8,y:91.5,z:15.8,name:"FI",country:"Finland"},{x:80.4,y:102.5,z:12,name:"NL",country:"Netherlands"},{x:80.3,y:86.1,z:11.8,name:"SE",country:"Sweden"},{x:78.4,y:70.1,z:16.6,name:"ES",country:"Spain"},{x:74.2,y:68.5,z:14.5,name:"FR",country:"France"},{x:73.5,y:83.1,z:10,name:"NO",country:"Norway"},{x:71,y:93.2,z:24.7,name:"UK",country:"United Kingdom"},{x:69.2,y:57.6,z:10.4,name:"IT",country:"Italy"},{x:68.6,y:20,z:16,name:"RU",country:"Russia"},{x:65.5,y:126.4,z:35.3,name:"US",country:"United States"},{x:65.4,y:50.8,z:28.5,name:"HU",country:"Hungary"},{x:63.4,y:51.8,z:15.4,name:"PT",country:"Portugal"},{x:64,y:82.9,z:31.3,name:"NZ",country:"New Zealand"}]}]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=function(){for(var t=e.state.json,a=[],n={},r=0;r<t.length;r++)n[t[r].Year]||(n[t[r].Year]=!0,a.push(t[r].Year));return a},a=function(e,t){return e>=t?1:0};return Object(N.jsxs)("div",{children:[Object(N.jsx)(p.a,{position:"static",children:Object(N.jsx)(j.a,{children:Object(N.jsx)(b.a,{variant:"h6",children:"Generador de Indice de Dependencia Importadora"})})}),Object(N.jsx)("hr",{}),Object(N.jsx)("input",{accept:".xlsx",type:"file",id:"contained-button-file",onChange:function(a){!function(a){var n=new FileReader;n.readAsBinaryString(a),n.onload=function(a){var n=a.target.result,r=u.a.read(n,{type:"binary"}),o=r.SheetNames[0],s=r.Sheets[o],i=u.a.utils.sheet_to_json(s,{header:1}),c=u.a.utils.sheet_to_json(s);e.setState({cols:i[0]});var l=function(e){for(var t=[],a=1;a<e.length;a++){for(var n=0;n<e[a].length;n++)void 0==e[a][n]&&(e[a][n]=" ");t.push(e[a])}return t}(i);e.setState({rows:l}),e.setState({json:c}),e.setState({years:t()})}}(a.target.files[0])}}),Object(N.jsx)("hr",{}),Object(N.jsx)("hr",{}),this.state.rows.length?Object(N.jsxs)("div",{children:[Object(N.jsxs)(x.a,{children:[Object(N.jsx)(m.a,{expandIcon:Object(N.jsx)(g.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(N.jsx)(b.a,{children:"Impacto"})}),Object(N.jsxs)(O.a,{children:[Object(N.jsx)("label",{children:"Select a year:"}),Object(N.jsx)("select",{name:"years",id:"years",onChange:function(t){!function(t){for(var n,r=e.state.json,o=[],s=0,i=[],c=0,l=0;l<r.length;l++)r[l].Year===t&&"Import"===r[l].TradeFlowName&&" World"===r[l].PartnerName&&(o.push(r[l]),s+=parseFloat(r[l]["TradeValue in 1000 USD"]));for(var h=0;h<o.length;h++)c+=parseFloat(o[h]["TradeValue in 1000 USD"])/s*100/o.length;for(var d=0;d<o.length;d++)i.push([o[d].ReporterISO3,o[d].ReporterName,parseFloat(o[d]["TradeValue in 1000 USD"]),parseFloat(o[d]["NetWeight in KGM"]),parseFloat(o[d]["TradeValue in 1000 USD"])/s*100,a(parseFloat(o[d]["TradeValue in 1000 USD"])/s*100,c)]);n=["Reporter ISO3","ReporterName","Suma de TradeValue in 1000 USD","NetWeight in KGM","Impacto","Mercado Atractivo?"],e.setState({columns:n}),e.setState({impacto:i})}(t.target.value)},children:this.state.years.map((function(e,t){return Object(N.jsx)("option",{value:e,children:e},t)}))}),this.state.impacto.length>0&&Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:function(){return function(){var t=[],a=e.state,n=a.columns,r=a.impacto;t.push([n[0],n[1],n[2],n[3],n[4],n[5]]);for(var o=0;o<r.length;o++)t.push(r[o]);var s=u.a.utils.book_new(),i=u.a.utils.aoa_to_sheet(t);u.a.utils.book_append_sheet(s,i,"Impacto"),u.a.writeFile(s,"Impacto.xlsx")}()},children:"Descargar Impacto en Excel"}),Object(N.jsx)(S.a,{children:Object(N.jsxs)(v.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(N.jsx)(z.a,{children:Object(N.jsx)(D.a,{children:this.state.columns.map((function(e,t){return Object(N.jsx)(y.a,{component:"th",children:e},t)}))})}),Object(N.jsx)(I.a,{children:this.state.impacto.map((function(e,t){return Object(N.jsx)(D.a,{children:e.map((function(e,t){return Object(N.jsx)(y.a,{children:e},t)}))},t)}))})]})})]})]})]}),Object(N.jsxs)(x.a,{children:[Object(N.jsx)(m.a,{expandIcon:Object(N.jsx)(g.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(N.jsx)(b.a,{children:"Balanza Comercial"})}),Object(N.jsxs)(O.a,{children:[Object(N.jsx)("label",{children:"Select a year:"}),Object(N.jsx)("select",{name:"years",id:"years",onChange:function(t){!function(t){for(var a,n,r=e.state.json,o=[],s=[],i=0;i<r.length;i++)r[i].Year===t&&" World"===r[i].PartnerName&&o.push(r[i]);a=function(e){for(var t=[],a={},n=0;n<e.length;n++)a[e[n].ReporterName]||(a[e[n].ReporterName]=!0,t.push(e[n].ReporterName));return t}(o);for(var c=0;c<a.length;c++)for(var l=!1,h=0;h<o.length;h++)a[c]===o[h].ReporterName&&("Export"===o[h].TradeFlowName&&(l=!0,s.push([o[h].ReporterISO3,a[c]])),l||"Import"!==o[h].TradeFlowName||s.push([o[h].ReporterISO3,a[c]]));for(var d=0;d<s.length;d++)for(var u=0;u<o.length;u++)s[d][1]===o[u].ReporterName&&"Export"===o[u].TradeFlowName&&s[d].push(parseFloat(o[u]["TradeValue in 1000 USD"]));for(var p=0;p<s.length;p++)void 0===s[p][2]&&(s[p][2]=0);for(var j=0;j<s.length;j++)for(var b=0;b<o.length;b++)s[j][1]===o[b].ReporterName&&"Import"===o[b].TradeFlowName&&s[j].push(parseFloat(o[b]["TradeValue in 1000 USD"]));for(var x=0;x<s.length;x++)void 0===s[x][3]&&(s[x][3]=0);for(var m=0;m<s.length;m++)s[m].push(1e3*(s[m][2]-s[m][3])),s[m][4]<0?s[m].push(1):s[m].push(0);n=["Reporter ISO3","ReporterName","Export","Import","Balanza Comercial","Mercado Atractivo?"],e.setState({balanza:s}),e.setState({columnsBalanza:n})}(t.target.value)},children:this.state.years.map((function(e,t){return Object(N.jsx)("option",{value:e,children:e},t)}))}),this.state.balanza.length>0&&Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:function(){return function(){var t=[],a=e.state,n=a.columnsBalanza,r=a.balanza;t.push([n[0],n[1],n[2],n[3],n[4],n[5]]);for(var o=0;o<r.length;o++)t.push(r[o]);var s=u.a.utils.book_new(),i=u.a.utils.aoa_to_sheet(t);u.a.utils.book_append_sheet(s,i,"Balanza"),u.a.writeFile(s,"BalanzaComercial.xlsx")}()},children:"Descargar Balanza en Excel"}),Object(N.jsx)(S.a,{children:Object(N.jsxs)(v.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(N.jsx)(z.a,{children:Object(N.jsx)(D.a,{children:this.state.columnsBalanza.map((function(e,t){return Object(N.jsx)(y.a,{component:"th",children:e},t)}))})}),Object(N.jsx)(I.a,{children:this.state.balanza.map((function(e,t){return Object(N.jsx)(D.a,{children:e.map((function(e,t){return Object(N.jsx)(y.a,{children:e},t)}))},t)}))})]})})]})]})]}),this.state.balanza.length>0&&this.state.impacto.length>0&&Object(N.jsxs)(x.a,{children:[Object(N.jsx)(m.a,{expandIcon:Object(N.jsx)(g.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(N.jsx)(b.a,{children:"\xefndice de Dependencia Importadora"})}),Object(N.jsxs)(O.a,{children:[Object(N.jsx)("button",{onClick:function(){return function(){for(var t,a,n,r,o,s=e.state,i=s.impacto,c=s.balanza,l=-999999999999,h=999999999999,d=-999999999999,u=999999999999,p=[],j=[],b=[],x=[],m=0,O=0,f=0;f<i.length;f++)1===i[f][5]&&1===c[f][5]&&(p.push([i[f][0],i[f][1],i[f][4],c[f][4]]),j.push([i[f][0],i[f][1]]),x.push([i[f][3],i[f][2]]),l<i[f][4]&&(l=i[f][4]),h>i[f][4]&&(h=i[f][4]),d<c[f][4]&&(d=c[f][4]),u>c[f][4]&&(u=c[f][4]));for(var g=0;g<p.length;g++)p[g].push((p[g][2]-h)/(l-h),(p[g][3]-d)/(u-d));t=["Reporter ISO3","ReporterName","Impacto","Balanza Comercial","Impacto Estandarizado","Balanza Estandarizada"],e.setState({idi1:p}),e.setState({columnsIDI1:t});for(var v=0;v<j.length;v++)j[v].push((p[v][4]+p[v][5])/2,x[v][0],x[v][0]/1e3,x[v][1],1e3*x[v][1]/(x[v][0]/1e3)),O+=x[v][0]/1e3,m+=1e3*x[v][1]/(x[v][0]/1e3);for(var I=0;I<j.length;I++)b.push({country:j[I][1],x:j[I][4],y:j[I][6]});console.log(b),a=["Reporter ISO3","ReporterName","IDI","Cantidad en Kg","Cantidad en toneladas","Valor Importado MUSD","Precio Unitario (US$/t)"],o={chart:{type:"bubble",plotBorderWidth:1,zoomType:"xy"},legend:{enabled:!1},title:{text:"Indice de Dependencia Importadora(IDI)"},subtitle:{text:'Hecho por:<a href="https://ivaldes8.github.io/miPortafolio/">Iv\xe1n Gonz\xe1lez</a> y <a href="http://www.disaic.cu/">la Casa Consultora DISAIC</a>'},accessibility:{point:{valueDescriptionFormat:"{index}. {point.name}, Valor: {point.x}g, Cantidad: {point.y}g, Mercado: {point.z}%."}},xAxis:{gridLineWidth:1,title:{text:"Cantidad Importada"},labels:{format:"{value} u"},plotLines:[{color:"black",dashStyle:"dot",width:3,value:r=O/j.length,label:{rotation:0,y:15,style:{fontStyle:"italic"}},zIndex:3}]},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:"Valor Unitario()US$/t"},labels:{format:"{value} US$"},maxPadding:.2,plotLines:[{color:"black",dashStyle:"dot",width:3,value:n=m/j.length,label:{align:"right",style:{fontStyle:"italic"},x:-10},zIndex:3}]},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'<tr><th colspan="2"><h3>{point.country}</h3></th></tr><tr><th>Cantidad:</th><td>{point.x}u</td></tr><tr><th>Valor:</th><td>{point.y}$</td></tr>',footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.country}"}}},series:[{data:b}]},e.setState({avgT:r}),e.setState({avgP:n}),e.setState({columnsIDI2:a}),e.setState({idi2:j}),console.log(j),e.setState({options:o})}()},children:"Calcular IDI"}),Object(N.jsx)("br",{}),this.state.idi1.length>0&&Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:function(){return function(){var t=[],a=[],n=e.state,r=n.columnsIDI1,o=n.columnsIDI2,s=n.idi1,i=n.idi2;t.push([r[0],r[1],r[2],r[3],r[4],r[5]]),a.push([o[0],o[1],o[2],o[3],o[4],o[5],o[6]]);for(var c=0;c<s.length;c++)t.push(s[c]);for(var l=0;l<i.length;l++)a.push(i[l]);var h=u.a.utils.book_new(),d=u.a.utils.aoa_to_sheet(t),p=u.a.utils.aoa_to_sheet(a);u.a.utils.book_append_sheet(h,d,"IDI1"),u.a.utils.book_append_sheet(h,p,"IDI2"),u.a.writeFile(h,"IDI.xlsx")}()},children:"Descargar IDI en excel"}),Object(N.jsx)("button",{onClick:function(){return function(){var t=[],a=[],n=[],r=[],o=e.state,s=o.columns,i=o.columnsBalanza,c=o.columnsIDI1,l=o.columnsIDI2,h=o.impacto,d=o.balanza,p=o.idi1,j=o.idi2;t.push([s[0],s[1],s[2],s[3],s[4],i[5]]),a.push([i[0],i[1],i[2],i[3],i[4],i[5]]),n.push([c[0],c[1],c[2],c[3],c[4],c[5]]),r.push([l[0],l[1],l[2],l[3],l[4],l[5],l[6]]);for(var b=0;b<h.length;b++)t.push(h[b]);for(var x=0;x<d.length;x++)a.push(d[x]);for(var m=0;m<p.length;m++)n.push(p[m]);for(var O=0;O<j.length;O++)r.push(j[O]);var f=u.a.utils.book_new(),g=u.a.utils.aoa_to_sheet(t);u.a.utils.book_append_sheet(f,g,"impacto");var v=u.a.utils.aoa_to_sheet(a);u.a.utils.book_append_sheet(f,v,"Balanza");var I=u.a.utils.aoa_to_sheet(n);u.a.utils.book_append_sheet(f,I,"IDI1");var y=u.a.utils.aoa_to_sheet(r);u.a.utils.book_append_sheet(f,y,"IDI2"),u.a.writeFile(f,"Indice de Dependencia Importadora.xlsx")}()},children:"Descargar Todo menos el gr\xe1fico en un solo excel"})]}),this.state.idi1.length>0&&Object(N.jsxs)("div",{children:[Object(N.jsx)(S.a,{children:Object(N.jsxs)(v.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(N.jsx)(z.a,{children:Object(N.jsx)(D.a,{children:this.state.columnsIDI1.map((function(e,t){return Object(N.jsx)(y.a,{component:"th",children:e},t)}))})}),Object(N.jsx)(I.a,{children:this.state.idi1.map((function(e,t){return Object(N.jsx)(D.a,{children:e.map((function(e,t){return Object(N.jsx)(y.a,{children:e},t)}))},t)}))})]})}),Object(N.jsx)("br",{}),Object(N.jsx)("hr",{}),Object(N.jsx)("br",{}),Object(N.jsx)(S.a,{children:Object(N.jsxs)(v.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(N.jsx)(z.a,{children:Object(N.jsx)(D.a,{children:this.state.columnsIDI2.map((function(e,t){return Object(N.jsx)(y.a,{component:"th",children:e},t)}))})}),Object(N.jsx)(I.a,{children:this.state.idi2.map((function(e,t){return Object(N.jsx)(D.a,{children:e.map((function(e,t){return Object(N.jsx)(y.a,{children:e},t)}))},t)}))})]})})]})]})]}),this.state.idi1.length>0&&Object(N.jsxs)(x.a,{children:[Object(N.jsx)(m.a,{expandIcon:Object(N.jsx)(g.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(N.jsx)(b.a,{children:"Gr\xe1fico"})}),Object(N.jsx)(O.a,{children:Object(N.jsx)(T,{options:this.state.options,highcharts:F.a})})]})]}):null]})}}]),a}(n.Component);var R=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(C,{})})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),o(e),s(e)}))};s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(R,{})}),document.getElementById("root")),U()},63:function(e,t){},81:function(e,t,a){},82:function(e,t,a){},88:function(e,t){},89:function(e,t){}},[[106,1,2]]]);
//# sourceMappingURL=main.ca7f98c6.chunk.js.map