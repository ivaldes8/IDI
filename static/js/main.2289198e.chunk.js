(this.webpackJsonpidi=this.webpackJsonpidi||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),o=a.n(s),i=(a(81),a(82),a(67)),c=a(68),l=a(71),h=a(70),d=a(11),u=a.n(d),p=a(131),j=a(132),b=a(130),x=a(129),m=a(128),O=a(133),f=a(37),v=a.n(f),g=a(135),I=a(139),S=a(138),y=a(134),_=a(136),D=a(137),z=a(27),k=a.n(z),F=a(69),w=a.n(F),C=a(1),T=function(e){var t=e.options,a=e.highcharts;return Object(C.jsx)(w.a,{highcharts:a,constructorType:"chart",options:t})};a(91)(k.a),a(92)(k.a),a(93)(k.a),a(94)(k.a),a(95)(k.a);var N=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={cols:[],rows:[],json:[],years:[],columns:[],selectedYear:"",impacto:[],balanza:[],columnsBalanza:[],idi1:[],columnsIDI1:[],idi2:[],columnsIDI2:[],avgT:0,avgP:0,value:0,options:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=function(){for(var t=e.state.json,a=[],n={},r=0;r<t.length;r++)n[t[r].Year]||(n[t[r].Year]=!0,a.push(t[r].Year));return a},a=function(e,t){return e>=t?1:0};return Object(C.jsxs)("div",{children:[Object(C.jsx)(p.a,{position:"static",children:Object(C.jsx)(j.a,{children:Object(C.jsx)(b.a,{variant:"h6",children:"Generador de Indice de Dependencia Importadora"})})}),Object(C.jsx)("hr",{}),Object(C.jsx)("input",{accept:".xlsx",type:"file",id:"contained-button-file",onChange:function(a){!function(a){var n=new FileReader;n.readAsBinaryString(a),n.onload=function(a){var n=a.target.result,r=u.a.read(n,{type:"binary"}),s=r.SheetNames[0],o=r.Sheets[s],i=u.a.utils.sheet_to_json(o,{header:1}),c=u.a.utils.sheet_to_json(o);e.setState({cols:i[0]});var l=function(e){for(var t=[],a=1;a<e.length;a++){for(var n=0;n<e[a].length;n++)void 0==e[a][n]&&(e[a][n]=" ");t.push(e[a])}return t}(i);e.setState({rows:l}),e.setState({json:c}),e.setState({years:t()})}}(a.target.files[0])}}),Object(C.jsx)("hr",{}),Object(C.jsx)("hr",{}),this.state.rows.length?Object(C.jsxs)("div",{children:[Object(C.jsxs)(x.a,{children:[Object(C.jsx)(m.a,{expandIcon:Object(C.jsx)(v.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(C.jsx)(b.a,{children:"Impacto"})}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)("label",{children:"Select a year:"}),Object(C.jsx)("select",{name:"years",id:"years",onChange:function(t){!function(t){for(var n,r=e.state.json,s=[],o=0,i=[],c=0,l=0;l<r.length;l++)r[l].Year==t&&"Import"===r[l].TradeFlowName&&" World"===r[l].PartnerName&&(s.push(r[l]),o+=parseFloat(r[l]["TradeValue in 1000 USD"]));for(var h=0;h<s.length;h++)c+=parseFloat(s[h]["TradeValue in 1000 USD"])/o*100/s.length;for(var d=0;d<s.length;d++)i.push([s[d].ReporterISO3,s[d].ReporterName,parseFloat(s[d]["TradeValue in 1000 USD"]),parseFloat(s[d]["NetWeight in KGM"]),parseFloat(s[d]["TradeValue in 1000 USD"])/o*100,a(parseFloat(s[d]["TradeValue in 1000 USD"])/o*100,c)]);n=["Reporter ISO3","ReporterName","Suma de TradeValue in 1000 USD","NetWeight in KGM","Impacto","Mercado Atractivo?"],e.setState({columns:n}),e.setState({impacto:i})}(t.target.value)},children:this.state.years.map((function(e,t){return Object(C.jsx)("option",{value:e,children:e},t)}))}),this.state.impacto.length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){return function(){var t=[],a=e.state,n=a.columns,r=a.impacto;t.push([n[0],n[1],n[2],n[3],n[4],n[5]]);for(var s=0;s<r.length;s++)t.push(r[s]);var o=u.a.utils.book_new(),i=u.a.utils.aoa_to_sheet(t);u.a.utils.book_append_sheet(o,i,"Impacto"),u.a.writeFile(o,"Impacto.xlsx")}()},children:"Descargar Impacto en Excel"}),Object(C.jsx)(y.a,{children:Object(C.jsxs)(g.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(C.jsx)(_.a,{children:Object(C.jsx)(D.a,{children:this.state.columns.map((function(e,t){return Object(C.jsx)(S.a,{component:"th",children:e},t)}))})}),Object(C.jsx)(I.a,{children:this.state.impacto.map((function(e,t){return Object(C.jsx)(D.a,{children:e.map((function(e,t){return Object(C.jsx)(S.a,{children:e},t)}))},t)}))})]})})]})]})]}),Object(C.jsxs)(x.a,{children:[Object(C.jsx)(m.a,{expandIcon:Object(C.jsx)(v.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(C.jsx)(b.a,{children:"Balanza Comercial"})}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)("label",{children:"Select a year:"}),Object(C.jsx)("select",{name:"years",id:"years",onChange:function(t){!function(t){for(var a,n,r=e.state.json,s=[],o=[],i=0;i<r.length;i++)r[i].Year==t&&" World"===r[i].PartnerName&&s.push(r[i]);a=function(e){for(var t=[],a={},n=0;n<e.length;n++)a[e[n].ReporterName]||(a[e[n].ReporterName]=!0,t.push(e[n].ReporterName));return t}(s);for(var c=0;c<a.length;c++)for(var l=!1,h=0;h<s.length;h++)a[c]===s[h].ReporterName&&("Export"===s[h].TradeFlowName&&(l=!0,o.push([s[h].ReporterISO3,a[c]])),l||"Import"!==s[h].TradeFlowName||o.push([s[h].ReporterISO3,a[c]]));o=function(e){for(var t=[],a={},n=0;n<e.length;n++)a[e[n][1]]||(a[e[n][1]]=!0,t.push(e[n]));return t}(o);for(var d=0;d<o.length;d++)for(var u=0;u<s.length;u++)o[d][1]===s[u].ReporterName&&"Export"===s[u].TradeFlowName&&o[d].push(parseFloat(s[u]["TradeValue in 1000 USD"]));for(var p=0;p<o.length;p++)void 0===o[p][2]&&(o[p][2]=0);for(var j=0;j<o.length;j++)for(var b=0;b<s.length;b++)o[j][1]===s[b].ReporterName&&"Import"===s[b].TradeFlowName&&o[j].push(parseFloat(s[b]["TradeValue in 1000 USD"]));for(var x=0;x<o.length;x++)void 0===o[x][3]&&(o[x][3]=0);for(var m=0;m<o.length;m++)o[m].push(1e3*(o[m][2]-o[m][3])),o[m][4]<0?o[m].push(1):o[m].push(0);n=["Reporter ISO3","ReporterName","Export","Import","Balanza Comercial","Mercado Atractivo?"],e.setState({balanza:o}),e.setState({columnsBalanza:n})}(t.target.value)},children:this.state.years.map((function(e,t){return Object(C.jsx)("option",{value:e,children:e},t)}))}),this.state.balanza.length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){return function(){var t=[],a=e.state,n=a.columnsBalanza,r=a.balanza;t.push([n[0],n[1],n[2],n[3],n[4],n[5]]);for(var s=0;s<r.length;s++)t.push(r[s]);var o=u.a.utils.book_new(),i=u.a.utils.aoa_to_sheet(t);u.a.utils.book_append_sheet(o,i,"Balanza"),u.a.writeFile(o,"BalanzaComercial.xlsx")}()},children:"Descargar Balanza en Excel"}),Object(C.jsx)(y.a,{children:Object(C.jsxs)(g.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(C.jsx)(_.a,{children:Object(C.jsx)(D.a,{children:this.state.columnsBalanza.map((function(e,t){return Object(C.jsx)(S.a,{component:"th",children:e},t)}))})}),Object(C.jsx)(I.a,{children:this.state.balanza.map((function(e,t){return Object(C.jsx)(D.a,{children:e.map((function(e,t){return Object(C.jsx)(S.a,{children:e},t)}))},t)}))})]})})]})]})]}),this.state.balanza.length>0&&this.state.impacto.length>0&&Object(C.jsxs)(x.a,{children:[Object(C.jsx)(m.a,{expandIcon:Object(C.jsx)(v.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(C.jsx)(b.a,{children:"\xefndice de Dependencia Importadora"})}),Object(C.jsxs)(O.a,{children:[Object(C.jsx)("button",{onClick:function(){return function(){for(var t,a,n,r,s,o=e.state,i=o.impacto,c=o.balanza,l=-999999999999,h=999999999999,d=-999999999999,u=999999999999,p=[],j=[],b=[],x=[],m=0,O=0,f=0;f<i.length;f++)1===i[f][5]&&1===c[f][5]&&(p.push([i[f][0],i[f][1],i[f][4],c[f][4]]),j.push([i[f][0],i[f][1]]),x.push([i[f][3],i[f][2]]),l<i[f][4]&&(l=i[f][4]),h>i[f][4]&&(h=i[f][4]),d<c[f][4]&&(d=c[f][4]),u>c[f][4]&&(u=c[f][4]));for(var v=0;v<p.length;v++)p[v].push((p[v][2]-h)/(l-h),(p[v][3]-d)/(u-d));t=["Reporter ISO3","ReporterName","Impacto","Balanza Comercial","Impacto Estandarizado","Balanza Estandarizada"],e.setState({idi1:p}),e.setState({columnsIDI1:t});for(var g=0;g<j.length;g++)j[g].push((p[g][4]+p[g][5])/2,x[g][0],x[g][0]/1e3,x[g][1],1e3*x[g][1]/(x[g][0]/1e3)),O+=x[g][0]/1e3,m+=1e3*x[g][1]/(x[g][0]/1e3);for(var I=0;I<j.length;I++)b.push({country:j[I][1],x:j[I][4],y:j[I][6]});a=["Reporter ISO3","ReporterName","IDI","Cantidad en Kg","Cantidad en toneladas","Valor Importado MUSD","Precio Unitario (US$/t)"],s={chart:{type:"bubble",plotBorderWidth:1,zoomType:"xy"},legend:{enabled:!1},title:{text:"Indice de Dependencia Importadora(IDI)"},subtitle:{text:'Hecho por:<a href="https://ivaldes8.github.io/miPortafolio/">Iv\xe1n Gonz\xe1lez</a> y <a href="http://www.disaic.cu/">la Casa Consultora DISAIC</a>'},accessibility:{point:{valueDescriptionFormat:"{index}. {point.name}, Valor: {point.x}g, Cantidad: {point.y}g, Mercado: {point.z}%."}},xAxis:{gridLineWidth:1,title:{text:"Cantidad Importada"},labels:{format:"{value} u"},plotLines:[{color:"black",dashStyle:"dot",width:3,value:r=O/j.length,label:{rotation:0,y:15,style:{fontStyle:"italic"}},zIndex:3}]},yAxis:{startOnTick:!1,endOnTick:!1,title:{text:"Valor Unitario()US$/t"},labels:{format:"{value} US$"},maxPadding:.2,plotLines:[{color:"black",dashStyle:"dot",width:3,value:n=m/j.length,label:{align:"right",style:{fontStyle:"italic"},x:-10},zIndex:3}]},tooltip:{useHTML:!0,headerFormat:"<table>",pointFormat:'<tr><th colspan="2"><h3>{point.country}</h3></th></tr><tr><th>Cantidad:</th><td>{point.x}u</td></tr><tr><th>Valor:</th><td>{point.y}$</td></tr>',footerFormat:"</table>",followPointer:!0},plotOptions:{series:{dataLabels:{enabled:!0,format:"{point.country}"}}},series:[{data:b}]},e.setState({avgT:r}),e.setState({avgP:n}),e.setState({columnsIDI2:a}),e.setState({idi2:j}),e.setState({options:s})}()},children:"Calcular IDI"}),Object(C.jsx)("br",{}),this.state.idi1.length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){return function(){var t=[],a=[],n=e.state,r=n.columnsIDI1,s=n.columnsIDI2,o=n.idi1,i=n.idi2;t.push([r[0],r[1],r[2],r[3],r[4],r[5]]),a.push([s[0],s[1],s[2],s[3],s[4],s[5],s[6]]);for(var c=0;c<o.length;c++)t.push(o[c]);for(var l=0;l<i.length;l++)a.push(i[l]);var h=u.a.utils.book_new(),d=u.a.utils.aoa_to_sheet(t),p=u.a.utils.aoa_to_sheet(a);u.a.utils.book_append_sheet(h,d,"IDI1"),u.a.utils.book_append_sheet(h,p,"IDI2"),u.a.writeFile(h,"IDI.xlsx")}()},children:"Descargar IDI en excel"}),Object(C.jsx)("button",{onClick:function(){return function(){var t=[],a=[],n=[],r=[],s=e.state,o=s.columns,i=s.columnsBalanza,c=s.columnsIDI1,l=s.columnsIDI2,h=s.impacto,d=s.balanza,p=s.idi1,j=s.idi2;t.push([o[0],o[1],o[2],o[3],o[4],i[5]]),a.push([i[0],i[1],i[2],i[3],i[4],i[5]]),n.push([c[0],c[1],c[2],c[3],c[4],c[5]]),r.push([l[0],l[1],l[2],l[3],l[4],l[5],l[6]]);for(var b=0;b<h.length;b++)t.push(h[b]);for(var x=0;x<d.length;x++)a.push(d[x]);for(var m=0;m<p.length;m++)n.push(p[m]);for(var O=0;O<j.length;O++)r.push(j[O]);var f=u.a.utils.book_new(),v=u.a.utils.aoa_to_sheet(t);u.a.utils.book_append_sheet(f,v,"impacto");var g=u.a.utils.aoa_to_sheet(a);u.a.utils.book_append_sheet(f,g,"Balanza");var I=u.a.utils.aoa_to_sheet(n);u.a.utils.book_append_sheet(f,I,"IDI1");var S=u.a.utils.aoa_to_sheet(r);u.a.utils.book_append_sheet(f,S,"IDI2"),u.a.writeFile(f,"Indice de Dependencia Importadora.xlsx")}()},children:"Descargar Todo menos el gr\xe1fico en un solo excel"})]}),this.state.idi1.length>0&&Object(C.jsxs)("div",{children:[Object(C.jsx)(y.a,{children:Object(C.jsxs)(g.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(C.jsx)(_.a,{children:Object(C.jsx)(D.a,{children:this.state.columnsIDI1.map((function(e,t){return Object(C.jsx)(S.a,{component:"th",children:e},t)}))})}),Object(C.jsx)(I.a,{children:this.state.idi1.map((function(e,t){return Object(C.jsx)(D.a,{children:e.map((function(e,t){return Object(C.jsx)(S.a,{children:e},t)}))},t)}))})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("hr",{}),Object(C.jsx)("br",{}),Object(C.jsx)(y.a,{children:Object(C.jsxs)(g.a,{stickyHeader:!0,size:"small","aria-label":"a dense table",children:[Object(C.jsx)(_.a,{children:Object(C.jsx)(D.a,{children:this.state.columnsIDI2.map((function(e,t){return Object(C.jsx)(S.a,{component:"th",children:e},t)}))})}),Object(C.jsx)(I.a,{children:this.state.idi2.map((function(e,t){return Object(C.jsx)(D.a,{children:e.map((function(e,t){return Object(C.jsx)(S.a,{children:e},t)}))},t)}))})]})})]})]})]}),this.state.idi1.length>0&&Object(C.jsxs)(x.a,{children:[Object(C.jsx)(m.a,{expandIcon:Object(C.jsx)(v.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(C.jsx)(b.a,{children:"Gr\xe1fico"})}),Object(C.jsx)(O.a,{children:Object(C.jsx)(T,{options:this.state.options,highcharts:k.a})})]})]}):null]})}}]),a}(n.Component);var R=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)(N,{})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),s(e),o(e)}))};o.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(R,{})}),document.getElementById("root")),B()},63:function(e,t){},81:function(e,t,a){},82:function(e,t,a){},88:function(e,t){},89:function(e,t){}},[[106,1,2]]]);
//# sourceMappingURL=main.2289198e.chunk.js.map